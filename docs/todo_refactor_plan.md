# TODO管理・将来リファクタ計画

## 概要

プロジェクト内のTODO suppressコメントを管理し、将来のリファクタ計画を策定する。

## 現在のTODO suppress箇所

### 1. SettingsView.swift (Line 20)
- **内容**: 中間バッファ導入の検討
- **現状**: 直接AppStorageにBinding
- **将来計画**: 複雑なバリデーションや一時保存が必要になった場合の@State導入
- **優先度**: 中
- **目標月**: 2024年8月

### 2. HistoryViewModel.swift (Line 23)
- **内容**: add関数のパラメータ数整理
- **現状**: 6パラメータの関数
- **将来計画**: struct化によるパラメータ整理
- **優先度**: 高（Issue #6で解決済み）
- **目標月**: 2024年7月（完了）

## 将来リファクタ計画

### Phase 1: 即時対応（2024年7月）
- [x] **HistoryViewModel.add のパラメータ数整理** (Issue #6)
  - struct化によるパラメータ整理
  - 完了済み

### Phase 2: 短期対応（2024年8月）
- [ ] **SettingsView の中間バッファ導入検討**
  - 複雑なバリデーション対応
  - 一時保存機能の実装
  - @State による状態管理改善

### Phase 3: 中期対応（2024年9月）
- [ ] **TimerViewModel の構造的リファクタ** (Issue #8)
  - file_length: 429行 → 400行以下
  - type_body_length: 302行 → 250行以下
  - 責務分離・クラス分割

### Phase 4: 長期対応（2024年10月以降）
- [ ] **アーキテクチャ改善**
  - MVVM パターンの徹底
  - 依存性注入の導入
  - テストカバレッジ向上

## 管理方針

### TODO suppress の運用ルール
1. **必ずIssue化**: TODO suppressは必ずIssueで管理
2. **目標月設定**: 具体的な解消予定月を設定
3. **優先度付け**: 高・中・低で優先度を明確化
4. **進捗管理**: 定期的な進捗確認と更新

### 新規TODO追加時のルール
1. **Issue作成**: 新規TODOは必ずIssueを作成
2. **docs/lint_exceptions.md 更新**: suppress記録を追加
3. **PRテンプレート更新**: 影響範囲を明記
4. **定期的な見直し**: 月次でTODOの見直しを実施

## 成功指標

- [ ] TODO suppress箇所の100% Issue化
- [ ] 目標月内の解消率80%以上
- [ ] 新規TODOの事前レビュー実施率100%
- [ ] 定期的なTODO見直しの実施

---

**TODO管理は技術的負債の見える化が重要です。**
**未来の自分も迷わないよう、理由・目標月・影響範囲を明記してください。**